<div
	class="flex flex-col gap-y-2 mx-2 pt-2 rounded-lg border border-grey-1 dark:border-none p-4 bg-light-card-bg dark:bg-dark-card-bg relative">
	<div class="flex justify-between items-center">
		<div class="text-primary font-semibold flex items-center">
			<app-icon icon="push_pin"></app-icon>
			<span class="ml-2">Epinglé</span>
		</div>
		<div class="relative" (click)="toggleMenu()">
			<app-icon
				icon="more_vert"
				class="cursor-pointer text-light-bg"></app-icon>
			<div
				*ngIf="showMenu"
				class="absolute right-0 mt-2 w-48 bg-light-card-bg dark:bg-dark-card-bg border border-grey-1 dark:border-grey-3 rounded-lg shadow-lg z-50">
				<ul class="py-1">
					<li
						(click)="unpinPost(post.id)"
						class="block px-4 py-2 text-secondary cursor-pointer hover:bg-primary hover:text-white">
						Désépingler le post
					</li>
					<li
						(click)="deletePost(post.id)"
						class="block px-4 py-2 text-secondary cursor-pointer hover:bg-primary hover:text-white">
						Supprimer le post
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div class="flex flex-nowrap gap-x-2 mt-4">
		<img
			alt="Rounded avatar"
			class="w-12 h-12 rounded-full shrink"
			height="12"
			[src]="profilePictureUrl$ | async"
			width="12" />
		<div class="grow space-y-2">
			<p class="post-mini-name text-secondary">
				{{ post.user.firstName + ' ' + post.user.lastName }}
			</p>
			<p class="post-mini-pseudo text-grey-3 dark:text-grey-2">
				&#64;{{ post.user.username }}
			</p>
			<p>{{ post.text }}</p>
			<div class="flex justify-end gap-x-3">
				<span class="flex items-center gap-x-1">
					<app-icon icon="thumb_up"></app-icon>
					<span>{{ post.likes }}</span>
				</span>
				<span class="flex items-center gap-x-1">
					<app-icon icon="comment"></app-icon>
					<span>{{ post.comments }}</span>
				</span>
			</div>
		</div>
	</div>
</div>
